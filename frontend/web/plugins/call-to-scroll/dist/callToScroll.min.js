!function(a,b){function c(b){var c,d=a("<div></div>").css({width:"100%"});return b.append(d),c=b.width()-d.width(),d.remove(),c}function d(e,f){var g=e.getBoundingClientRect(),h=g.top,i=g.bottom,j=g.left,k=g.right,l=a.extend({tolerance:0,viewport:b},f),m=!1,n=l.viewport.jquery?l.viewport:a(l.viewport);n.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),console.warn("isInViewport: Defaulting to viewport as window"),n=a(b));var o=n.height(),p=n.width(),q=n.get(0).toString();if(n[0]!==b&&"[object Window]"!==q&&"[object DOMWindow]"!==q){var r=n.get(0).getBoundingClientRect();h-=r.top,i-=r.top,j-=r.left,k=j+p,d.scrollBarWidth=d.scrollBarWidth||c(n),p-=d.scrollBarWidth}return l.tolerance=~~Math.round(parseFloat(l.tolerance)),l.tolerance<0&&(l.tolerance=o+l.tolerance),Math.abs(j)>=p?m:m=l.tolerance?!!(h<=l.tolerance&&i>=l.tolerance):!!(i>0&&o>=h)}String.prototype.hasOwnProperty("trim")||(String.prototype.trim=function(){return this.replace(/^\s*(.*?)\s*$/,"$1")});var e=function(b){if(1===arguments.length&&"function"==typeof b&&(b=[b]),!(b instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");for(var c=0;c<b.length;c++)if("function"==typeof b[c])for(var d=0;d<this.length;d++)b[c].call(a(this[d]));else console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on");return this};a.fn.do=function(a){return console.warn("isInViewport: .do causes issues in IE and some browsers since its a reserved. Use $.fn.run instead i.e., $(el).run(fn)."),e(a)},a.fn.run=e,a.extend(a.expr[":"],{"in-viewport":function(a,b,c){if(c[3]){var e=c[3].split(",");return 1===e.length&&isNaN(e[0])&&(e[1]=e[0],e[0]=void 0),d(a,{tolerance:e[0]?e[0].trim():void 0,viewport:e[1]?e[1].trim():void 0})}return d(a)}})}(window.jQuery,window),!function(){var a;if("function"==typeof history.pushState&&"function"==typeof history.replaceState)a=function(a,b){b=b||{force:!1,replace:!1};var c;c=b.replace?"replaceState":"pushState";var d="#"+a;return(location.hash!==d||b.force)&&history[c](null,document.title,location.pathname+location.search+d),location.href};else{var b=document.body,c=document.documentElement;a=function(a){var d=b.scrollTop||c.scrollTop;return location.hash=""+a,b.scrollTop=d,c.scrollTop=d,location.href}}window.setLocationHash=a}(),function(a){a.fn.ctscroll=function(b){function c(){a('body').append('<div id="ctsElsWrapper"><a target="_self" title="" id="ctsArUp" class="cts-arrow cts-up cts-smsc"></a><p class="cts-text">'+m.text+'</p><a target="_self" title="" id="ctsArDown" class="cts-arrow cts-down cts-smsc"></a><div id="ctsDotsWrapper"></div><div>'),n.each(function(){if(a(this).attr('id')!==!1&&void 0!==a(this).attr('id'))var b=a(this).attr('id');else{var b=m.autoIdText+a(n).index(this);a(this).attr('id',b)}a('#ctsDotsWrapper').append('<a href="#'+b+'" target="_self" title="" class="cts-dot cts-smsc"></a>'),a('#ctsDotsWrapper').find('[href="#'+b+'"]').last().append(e(m.dotsRadius))})}function d(a,b,c){var d='http://www.w3.org/2000/svg',e='up'===a?'15,'+c+' '+Math.floor(b/2)+',5 '+(b-15)+','+c:'15,0 '+Math.floor(b/2)+','+(c-5)+' '+(b-15)+',0',f=document.createElementNS(d,'svg');f.setAttributeNS(null,'width',b+'px'),f.setAttributeNS(null,'height',c+'px'),f.setAttributeNS(null,'viewBox','0,0 '+b+','+c);var g=document.createElementNS(d,'polyline');return g.setAttributeNS(null,'points',e),g.setAttributeNS(null,'class','cts-svg-arrow'),f.appendChild(g),f}function e(a){var b='http://www.w3.org/2000/svg',c=document.createElementNS(b,'svg');c.setAttributeNS(null,'width',2*a+'px'),c.setAttributeNS(null,'height',2*a+'px'),c.setAttributeNS(null,'viewBox','0,0 '+2*a+','+2*a);var d=document.createElementNS(b,'circle');return d.setAttributeNS(null,'cx',a),d.setAttributeNS(null,'cy',a),d.setAttributeNS(null,'r',a),d.setAttributeNS(null,'class','cts-svg-circle'),c.appendChild(d),c}function f(){var a=d('up',80,20),b=d('down',80,20);document.getElementById('ctsArUp').appendChild(a),document.getElementById('ctsArDown').appendChild(b)}function g(){c(),f(),i()}function h(b){if(b>-1){a('.cts-dot.cts-active').removeClass('cts-active');var c=a('.cts-dot').eq(b);c!==!1&&void 0!==c&&(c.hasClass('cts-active')||(c.addClass('cts-active'),l(b)))}}function i(){if(n.filter(':in-viewport('+m.viewPortTolerance+')').length>0){var a=n.filter(':in-viewport('+m.viewPortTolerance+'):first'),b=n.index(a);h(b)}}function j(){var b=a(window).scrollTop();b>o?a(window).trigger('ctsScrollDown'):a(window).trigger('ctsScrollUp'),o=b}function k(b){var c=a(b).offset().top+m.scrollOffset;a('html, body').stop().animate({scrollTop:c},m.scrollDuration,'swing',function(){m.html5Hash?history.replaceState(null,null,b):setLocationHash(b.replace('#',''))})}function l(b){var c=a('.cts-dot').length,d=c>=b?1+b:null,e=0>=b?null:-1+b,f=null!==e?a('a.cts-dot').eq(e).attr('href'):null,g=null!==d?a('a.cts-dot').eq(d).attr('href'):null;a('a.cts-up').attr('href',f),a('a.cts-down').attr('href',g)}var m=a.extend({text:'Scroll down',autoIdText:'ctsAddedId',scrollDuration:450,scrollOffset:-25,html5Hash:!1,viewPortTolerance:0,logEvents:!1,dotsRadius:10},b),n=this,o=0;return a(window).on('ctsScrollUp',function(){m.logEvents===!0&&console.log('CallToScroll.js event catched: ctsScrollUp'),a('.cts-up').addClass('cts-active'),a('.cts-down').removeClass('cts-active')}),a(window).on('ctsScrollDown',function(){m.logEvents===!0&&console.log('CallToScroll.js event catched: ctsScrollDown'),a('.cts-down').addClass('cts-active'),a('.cts-up').removeClass('cts-active')}),a(window).scroll(function(){j(),i()}),a('body').on('click','.cts-smsc',function(b){b.preventDefault();var c=a(this).attr('href');k(c)}),g(),this}}(jQuery);